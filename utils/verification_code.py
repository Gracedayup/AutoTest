"""
@Time : 2022/5/25 18:35
@Author : sunny cao
@File : verification_code.py
"""
import PIL
from PIL import Image
import pytesseract
import cv2 as cv
import os
import time
import base64
'''
:param image_b64:图片base64编码
:return image:图片
'''


def b64_convert_image(image_b64):
    image_url = '1.jpg'
    new_image_url = 'new1.jpg'
    b64_data = str(image_b64).split(';base64,')[1]
    data = base64.b64decode(b64_data)
    with open(image_url, 'wb') as f:
        f.write(data)
    image = Image.open(image_url)
    image_size = image.resize((300, 100))
    image_size.save(new_image_url, 'JPEG')
    return new_image_url


'''
:param image:图片
:return 识别的验证码
'''


def recognize_text(image):
    # 边缘保留滤波，去噪
    dst = cv.pyrMeanShiftFiltering(image, sp=10, sr=150)
    # 灰度图像
    gray = cv.cvtColor(dst, cv.COLOR_BGR2GRAY)
    # 二值化
    ret, binary = cv.threshold(gray, 0, 255, cv.THRESH_BINARY_INV | cv.THRESH_OTSU)
    # 形态学操作 腐蚀，膨胀
    erode = cv.erode(binary, None, iterations=2)
    dilate = cv.dilate(erode, None, iterations=1)
    cv.imshow('dilate', dilate)
    # 逻辑运算 让背景白色 字体黑色，便于识别
    cv.bitwise_not(dilate, dilate)
    cv.imshow('binary-image', dilate)
    # 识别
    test_massage = Image.fromarray(dilate)
    text = pytesseract.image_to_string(test_massage)
    print(text)
    print('识别结果：{0}'.format(text))
    return text


if __name__ == '__main__':
    # jugo系统生成的验证码
    b64_data = 'data:image/jpg;base64,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'
    # 其他平台生成的验证码
    b64_data1 = 'data:image/jpeg;base64,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'
    image = b64_convert_image(b64_data)
    print(image)
    src = cv.imread(image)
    cv.imshow('input image', src)
    recognize_text(src)
    cv.waitKey(0)
    cv.destroyAllWindows()

